/* styles.css - simples */
html {
    background: linear-gradient(135deg, #d1d2d7 0%, #d2d5de 100%);
}
body { font-family: Inter, Roboto, Arial, sans-serif; margin: 18px; color: #111; }
.container { max-width: 840px; margin: 0 auto; }
header { 
    display: flex;
    align-items: center;
    margin: 1rem 0 2.25rem .5rem;
    height: auto;
}

header {
    display: flex;
    justify-content: space-between;
}

.quick-stats::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background:
        radial-gradient(circle at 50% 55%,
            rgba(255,255,255,0) 0%,
            rgba(255,255,255,0) 45%,
            rgba(255,255,255,0.25) 70%,
            rgba(255,255,255,0.5) 100%);
    mask:
       linear-gradient(#000 0 0) content-box,
       linear-gradient(#000 0 0);
    -webkit-mask:
       linear-gradient(#000 0 0) content-box,
       linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    padding: 1px; /* matches border thickness */
}

/* Quick stats: mobile-first horizontal scroll */
.quick-stats {
    background: hsla(0, 0%, 100%, 0.30);
    /* Glassy radial border: faint center, stronger edges */
    border: 1px solid transparent;
    backdrop-filter: blur(16px) saturate(130%);
    -webkit-backdrop-filter: blur(16px) saturate(130%);
    border-radius: 2rem;
    color: #313131;
    display: flex;
    flex-direction: column;
    /* Increase padding so title + first card don't feel glued */
    padding: .30rem;
    /* Keep horizontal scroll behavior for cards on mobile */
    overflow-x: hidden;            /* stop whole block (incl. h3) from scrolling */
    overflow-y: hidden;
    position: relative; /* needed if enhanced pseudo border used */
}

.quick-stats > h3 {
    margin: 1.5rem 2rem;
    font-size: 1rem;
    line-height: 1.2;
}

/* Move horizontal scroll responsibility to the cards row */
.quick-stats__cards {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 4px 4px 4px 2px;      /* subtle inner breathing space */
    scroll-snap-type: x mandatory;
        scroll-padding-left: 2px;

    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
}
.quick-stats__cards::-webkit-scrollbar { display: none; }

.quick-stats-item {
    align-items: center;
    border-radius: 1.75rem;
    display: flex;
    flex: 0 0 200px; /* consistent tile width for smooth scroll */
    padding: .3rem;
    scroll-snap-align: start;
    background: #ffffff;
    color: #313131;
    position: relative;
}
.quick-stats-item * { color: inherit; }
.quick-stats-item:hover { box-shadow: none; }

.quick-stats__icon {
    background: #f1f1f1;
    border-radius: 1.5rem;
    display: flex;
    align-items: center;
    height: 5rem;
    padding: .5rem 0;
    width: 100%;
    gap: .75rem; /* rely on gap instead of space-between for predictable spacing */
    justify-content: flex-start; /* was space-between in breakpoint */
}

/* Ensure <i> inside icon always styled (not only ≥680px) */
.quick-stats__icon > i {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    border-radius: 50%;
    margin: 0 1.25rem auto 1.25rem;
    height: 3rem;
    width: 3rem;
}

.quick-stats__details {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: .5rem;
}

.quick-stats__label {
    color: #888;
    margin: 0;
}

/* Optional: scale the SVG/img cleanly */
.quick-stats__icon > i img {
    width: 1.125rem;
    height: 1.125rem;
}

.quick-stats__counter { 
    background: transparent; 
    color: #313131; 
    display: flex; 
    align-items: center; 
    font-size: 2.5rem;
    font-weight: 600; 
    height: 2.25rem; 
}

form input, form select, form button, textarea { display:block; width:100%; padding:8px; margin:8px 0; box-sizing:border-box; }
button { cursor: pointer; }
.table { width:100%; border-collapse:collapse; margin-top:12px; }
.table th, .table td { border:1px solid #eee; padding:8px; text-align:left; }
.sent { color:green; font-weight:600; }
.pending { color:orange; }
.small { font-size:0.9rem; color:#555; }
a.btn { display:inline-block; padding:8px 12px; border-radius:6px; text-decoration:none; background:#2f8be6; color:white; }

/* Updated CSS for the table section */

.contacts-table-container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    overflow: hidden;
    margin-top: 20px;
    position: relative;
    width: 100%;
    max-width: 100%;
    display: flex;
    flex-direction: column;
}

.contacts-table {
    width: 100%;
    border-collapse: separate; /* sticky header plays nicer with separate */
    border-spacing: 0;
    position: relative;
    table-layout: fixed; /* Force fixed layout */
}

/* Scrollable body wrapper so header bars stay fixed */
.contacts-table-scroll {
    overflow: auto;
    max-height: 55vh; /* adjust as needed */
    position: relative; /* sticky reference */
}

/* Sticky table header inside scroll area */
.contacts-table thead th {
    position: sticky;
    top: 0; /* sits right under .table-header because scroll area starts below it */
    background: #ffffff;
    z-index: 21; /* above sticky first column cells */
    box-shadow: 0 1px 0 #e9ecef;
}

/* Ensure first column in header overlays cells too */
.contacts-table thead th.fixed-column { z-index: 22; }

/* Column width distribution */
.contacts-table th:nth-child(1),
.contacts-table td:nth-child(1) {
    width: 33%; /* Fixed column - Nome */
}

.contacts-table th:nth-child(2),
.contacts-table td:nth-child(2) {
    width: 34%; /* Dynamic column */
}

/* Mobile: 3rd column header (desktop-only) is hidden via .desktop-only class */
/* Actions column width is now handled by .action-cell class */

/* Dynamic column ellipsis trick - only for td, not th */
.contacts-table td:nth-child(2) {
    max-width: 0; /* Trick to make text-overflow work with table-layout: fixed */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.contacts-table th.fixed-column,
.contacts-table td.fixed-column {
    background: #fafbfc;
    position: sticky;
    left: 0;
    z-index: 20; /* under sticky thead */
    font-weight: 500;
    width: 33%;
    max-width: 33%;
    box-shadow: 2px 0 4px rgba(0,0,0,0.03);

    /* Text truncation */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.contacts-table td {
    padding: 16px 20px;
    border-bottom: 1px solid #e9ecef;
    border-right: 1px solid #e9ecef;
    font-size: 14px;
    color: #495057;
    
    /* Text truncation for all cells */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Specific handling for dynamic column content */
.contacts-table td:nth-child(2) {
    max-width: 0; /* Trick to make text-overflow work with table-layout: fixed */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    position: relative;
}

/* Expandable content on tap for mobile */
.expandable-content {
    position: relative;
    cursor: pointer;
}

.expandable-content.expanded {
    white-space: normal;
    word-break: break-word;
}

/* Full content tooltip on mobile */
.mobile-tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 100;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
    max-width: 200px;
    word-wrap: break-word;
    white-space: normal;
    margin-bottom: 5px;
}

.mobile-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 5px solid transparent;
    border-top-color: #333;
}

.mobile-tooltip.show {
    opacity: 1;
}

/* Actions column - compact buttons (class-based for flexibility) */
.contacts-table td.action-cell {
    padding: 16px 8px;
    text-align: center;
    width: 33%;
}

.action-button {
    background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%);
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: all 0.2s ease;
    white-space: nowrap;
    max-width: 100%;
}

/* Slide Panel Styles */
.slide-panel-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    pointer-events: none; /* Don't block clicks when hidden */
    /* Apple-like motion tokens with fallbacks */
    transition:
        opacity var(--dur-med, 280ms) var(--ease-decel, cubic-bezier(0.05, 0.7, 0.1, 1)),
        backdrop-filter var(--dur-med, 280ms) var(--ease-decel, cubic-bezier(0.05, 0.7, 0.1, 1));
    will-change: opacity, backdrop-filter;
}

.slide-panel-overlay.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto; /* Enable clicks when active */
}

.slide-panel {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: white;
    border-top-left-radius: 24px;
    border-top-right-radius: 24px;
    box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.15);
    z-index: 2001;
    max-height: 90vh;
    transform: translateY(100%);
    opacity: 1;
    pointer-events: none; /* Don't block clicks when hidden */
    /* Use springy easing and consistent durations */
    transition:
        transform var(--dur-slow, 420ms) var(--ease-spring, cubic-bezier(0.22, 1, 0.36, 1)),
        opacity var(--dur-slow, 420ms) var(--ease-spring, cubic-bezier(0.22, 1, 0.36, 1)),
        box-shadow var(--dur-med, 280ms) var(--ease-spring, cubic-bezier(0.22, 1, 0.36, 1)),
        border-radius var(--dur-med, 280ms) var(--ease-spring, cubic-bezier(0.22, 1, 0.36, 1));
    will-change: transform, opacity;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.slide-panel.active {
    transform: translateY(0);
    pointer-events: auto; /* Enable clicks when active */
}

.slide-panel-handle {
    width: 40px;
    height: 4px;
    background: #d1d5db;
    border-radius: 2px;
    margin: 12px auto 8px;
    cursor: pointer;
    transition: background var(--dur-fast, 180ms) var(--ease-standard, cubic-bezier(0.2, 0.8, 0.2, 1));
}

.slide-panel-handle:hover {
    background: #9ca3af;
}

.slide-panel-header {
    padding: 16px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #ffffff;
    color: #313131;
    margin-top: -4px;
}

.slide-panel-title {
    font-size: 20px;
    font-weight: 600;
    margin: 0;
}

.slide-panel-close {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #313131;
    padding: 4px;
    border-radius: 4px;
    transition: background var(--dur-fast, 180ms) var(--ease-standard, cubic-bezier(0.2, 0.8, 0.2, 1));
}

.slide-panel-close:hover {
    background: rgba(0, 0, 0, 0.08);
}

.slide-panel-content {
    flex: 1;
    overflow-y: auto;
    padding: 24px;
}

/* Hide desktop-only elements by default (mobile) */
.desktop-only {
    display: none;
}

/* Desktop Table Styles (min-width: 768px) */
@media (min-width: 768px) {
    /* Hide column indicator on desktop */
    .column-indicator {
        display: none !important;
    }

    /* Show second dynamic column header */
    .desktop-only {
        display: table-cell !important;
    }

    /* Fixed table layout for consistent column widths */
    .contacts-table {
        table-layout: fixed;
    }

    /* 4-column layout: Nome (25%) | Dynamic1 (25%) | Dynamic2 (25%) | Actions (25%) */
    .contacts-table th:nth-child(1),
    .contacts-table td:nth-child(1) {
        width: 25%; /* Fixed column - Nome */
    }

    .contacts-table th:nth-child(2),
    .contacts-table td:nth-child(2) {
        width: 25%; /* First dynamic column */
    }

    .contacts-table th:nth-child(3),
    .contacts-table td:nth-child(3) {
        width: 25%; /* Second dynamic column */
    }

    /* Ensure proper text overflow handling for dynamic columns */
    .contacts-table td.dynamic-cell {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    /* Actions column on desktop - 25% width, centered */
    .contacts-table td.action-cell {
        width: 25%;
        padding: 16px 8px;
        text-align: center;
        overflow: visible; /* Ensure buttons don't get clipped */
    }
}

/* Desktop Modal Styles (min-width: 768px) */
@media (min-width: 768px) {
    .slide-panel {
        /* Transform to centered modal */
        position: fixed;
        top: 50%;
        left: 50%;
        right: auto;
        bottom: auto;
        transform: translate(-50%, -50%) scale(0.95);
        opacity: 0;
        max-width: 900px;
        width: 90%;
        max-height: 85vh;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
    }

    .slide-panel.active {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }

    .slide-panel-handle {
        /* Hide handle on desktop */
        display: none;
    }

    .slide-panel-header {
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
        padding: 20px 28px;
    }

    .slide-panel-close {
        /* Update close button for desktop modal */
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
    }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    .slide-panel-overlay,
    .slide-panel,
    .slide-panel * {
        transition-duration: 1ms !important;
        animation: none !important;
    }
}

.citizen-detail-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    margin-bottom: 24px;
}

.detail-card {
    background: #f2f2f2;
    border-radius: 16px;
    padding: 20px;
    transition: all var(--dur-fast, 180ms) var(--ease-standard, cubic-bezier(0.2, 0.8, 0.2, 1));
}

.detail-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.detail-card h3 {
    margin: 0 0 16px 0;
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 8px;
}

.detail-card-icon {
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
}

.detail-field {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid #e2e8f0;
}

.detail-field:last-child {
    margin-bottom: 0;
    border-bottom: none;
    padding-bottom: 0;
}

.detail-label {
    font-weight: 500;
    color: #6b7280;
    font-size: 14px;
}

.detail-value {
    font-weight: 600;
    color: #1f2937;
    text-align: right;
    font-size: 14px;
    max-width: 60%;
    word-break: break-word;
}

.survey-response {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    margin-top: 16px;
}

.survey-response h4 {
    margin: 0 0 16px 0;
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 8px;
}

.survey-rating {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 16px 0;
}

.rating-stars {
    display: flex;
    gap: 2px;
}

.star {
    width: 20px;
    height: 20px;
    color: #fbbf24;
    font-size: 16px;
}

.star.empty {
    color: #d1d5db;
}

.rating-score {
    font-weight: 600;
    color: #1f2937;
    margin-left: 8px;
}

.survey-comment {
    background: #f1f5f9;
    border-left: 4px solid #3b82f6;
    padding: 16px;
    border-radius: 8px;
    margin-top: 16px;
    font-style: italic;
    color: #475569;
    line-height: 1.6;
}

.action-buttons {
    display: flex;
    gap: 12px;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid #e5e7eb;
    flex-wrap: wrap;
}

/* Dark mode appearance for survey details inside the slide panel */
.slide-panel .survey-response {
    background: #313131;
    border-color: #3f3f46; /* slate-700-ish */
    color: #f3f4f6; /* gray-100 */
}

.slide-panel .survey-response h4 {
    color: #f3f4f6;
}

.slide-panel .survey-response .detail-field {
    border-bottom-color: #4b5563; /* slate-600 */
}

.slide-panel .survey-response .detail-label {
    color: #d1d5db; /* gray-300 */
}

.slide-panel .survey-response .detail-value {
    color: #f9fafb; /* gray-50 */
}

.slide-panel .survey-response .survey-comment {
    background: #262626; /* neutral-800 */
    border-left-color: #a78bfa; /* violet-400 accent */
    color: #e5e7eb; /* gray-200 */
}

.panel-action-button {
    background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.panel-action-button:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 16px rgba(206, 0, 194, 0.3);
}

/* Ghost style for table action buttons when marked as secondary */
.action-button.secondary {
    background: transparent;
    color: #313131;
    border: 1px solid #313131;
}

.action-button.secondary:hover {
    background: rgba(49, 49, 49, 0.08);
    box-shadow: none;
}

.panel-action-button.secondary {
    background: transparent;
    color: #313131;
}

.panel-action-button.secondary:hover {
    background: rgba(49, 49, 49, 0.08);
    box-shadow: none;
}

.empty-state {
    text-align: center;
    padding: 40px 20px;
    color: #6b7280;
}

.empty-state-icon {
    width: 64px;
    height: 64px;
    background: #f3f4f6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 16px;
    font-size: 24px;
}

/* Mobile optimization for 402px and below */
@media (max-width: 768px) {
    .slide-panel-content {
        padding: 16px;
    }

    .citizen-detail-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }

    .action-buttons {
        flex-direction: column;
    }

    .panel-action-button {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 402px) {
    .contacts-table-container {
        margin: 20px -10px 0 -10px;
        border-radius: 12px;
        overflow-x: hidden; /* Prevent horizontal scroll */
    }
    
    .contacts-table {
        table-layout: fixed;
        width: 100%;
    }
    
    /* Enforce column widths on mobile - equal distribution */
    .contacts-table th:nth-child(1),
    .contacts-table td:nth-child(1) {
        width: 33%;
        min-width: 33%;
        max-width: 33%;
    }

    .contacts-table th:nth-child(2) {
        width: 34%;
        min-width: 34%;
        max-width: 34%;
    }

    .contacts-table td:nth-child(2) {
        width: 34%;
        min-width: 34%;
        max-width: 0; /* Ellipsis trick */
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    /* Actions column - use class selector instead of nth-child(3) */
    .contacts-table td.action-cell {
        width: 33%;
        min-width: 33%;
        max-width: 33%;
    }

    .contacts-table th,
    .contacts-table td {
        padding: 10px 8px;
        font-size: 12px;
    }

    .contacts-table th.fixed-column,
    .contacts-table td.fixed-column {
        padding-left: 12px;
        width: 33%;
        max-width: 33%;
    }
    
    /* Smaller action button */
    .action-button {
        padding: 6px 8px;
        font-size: 10px;
        border-radius: 6px;
    }
    
    /* Hide icon in button to save space */
    .action-button::before {
        content: '';
        display: none;
    }
    
    /* Ensure status badges fit */
    .status-badge {
        padding: 3px 6px;
        font-size: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
        display: inline-block;
    }

    .slide-panel-content {
        padding: 12px;
    }

    .slide-panel-header {
        padding: 12px 16px;
    }

    .slide-panel-title {
        font-size: 18px;
    }
}

/* Additional helper for preventing horizontal scroll */
body {
    overflow-x: hidden;
}

.container {
    max-width: 100%;
    overflow-x: hidden;
}

/* =============================
     Admin page body appearance
     Match index.html body props
     ============================= */
body.admin-page {
        font-family: "Ubuntu Sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Cantarell, sans-serif;
        background: linear-gradient(135deg, #d1d2d7 0%, #d2d5de 100%);
        min-height: 100vh;
        padding: 16px;
        color: #333;
        line-height: 1.6;
        margin: 0; /* override base margin */
}

@media (prefers-color-scheme: dark) {
    body.admin-page {
        background: linear-gradient(135deg, #d1d2d7 0%, #d2d5de 100%);
    }
}

/* ==========================================
   Form Pages (index.html and survey.html)
   Scoped styles to avoid conflicts elsewhere
   ========================================== */

/* Reset within form pages */
body.form-page, body.form-page * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* Base layout */
body.form-page {
    font-family: "Ubuntu Sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Cantarell, sans-serif;
    background: linear-gradient(135deg, #d1d2d7 0%, #d2d5de 100%);
    min-height: 100vh;
    padding: 16px;
    color: #333;
    line-height: 1.6;
}

body.form-page .container {
    max-width: 402px;
    margin: 0 auto;
    background: white;
    border-radius: 2.5rem;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    padding: 24px;
    animation: slideUp 0.6s ease-out;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

body.form-page header { display: flex; flex-direction: column; align-items: center; justify-content: center; }

body.form-page .avecta-logo {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 1rem 0 2.25rem 0;
    height: auto;
}

body.form-page h2 {
    font-size: 24px;
    font-weight: 700;
    color: #2d3748;
    text-align: center;
    margin-bottom: 8px;
}

body.form-page .small {
    font-size: 1rem;
    color: #718096;
    text-align: center;
    margin-bottom: 1.5rem;
}

/* Forms */
body.form-page form { display: flex; flex-direction: column; gap: 1.5rem; }

body.form-page label {
    font-size: 1rem;
    font-weight: 600;
    color: #2d3748;
    margin-bottom: 8px;
    display: block;
}

body.form-page input,
body.form-page select {
    height: 3rem;
    width: 100%;
    padding: 0.25rem 1rem;
    border: 2px solid #fff;
    border-radius: 12px;
    font-size: 16px;
    background: #f7fafc;
    transition: all 0.3s ease;
    -webkit-appearance: none;
    appearance: none;
}

/* Numeric field adjustments (iOS/Chrome) */
body.form-page input[type="number"] { appearance: textfield; -webkit-appearance: none; -moz-appearance: textfield; }
body.form-page input[type="number"]::-webkit-outer-spin-button,
body.form-page input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

body.form-page select:focus,
body.form-page input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    background: white;
    transform: translateY(-2px);
}

body.form-page select::placeholder,
body.form-page input::placeholder { color: #a0aec0; }

/* Primary submit button */
body.form-page button[type="submit"] {
    height: 3rem;
    width: 100%;
    padding: .25rem 1rem;
    background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%);
    color: white;
    border: none;
    border-radius: 10rem;
    font-size: 1.25rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 24px -4px rgba(102, 126, 234, 0.5);
    margin-top: 1.5rem;
}

body.form-page button[type="submit"]:hover { transform: translateY(-2px); box-shadow: 0 0.5rem 1.5rem rgba(81, 0, 231, 0.5); }
body.form-page button[type="submit"]:active { transform: translateY(0); }

/* States */
body.form-page .loading { opacity: 0.7; pointer-events: none; }

/* Result/feedback blocks used by survey */
body.form-page #result {
    margin-top: 16px;
    padding: 16px;
    border-radius: 12px;
    font-size: 14px;
    line-height: 1.5;
    min-height: 20px;
}
body.form-page #result.success { background: #f0fff4; border: 1px solid #68d391; color: #2f855a; }
body.form-page #result.error { background: #fed7d7; border: 1px solid #fc8181; color: #c53030; }

/* Invalid link notice (survey) */
body.form-page .invalid-link {
    text-align: center;
    background: #fed7d7;
    border: 1px solid #fc8181;
    color: #c53030;
    padding: 20px;
    border-radius: 12px;
    font-size: 16px;
}

/* Modal overlay/content (index) */
body.form-page #feedback-modal-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.35);
    z-index: 9998; display: none; align-items: center; justify-content: center;
}
body.form-page #feedback-modal-overlay.show { display: flex; }

body.form-page #feedback {
    position: relative; padding: 24px; border-radius: 16px; font-size: 14px; line-height: 1.5;
    min-width: 320px; max-width: 90vw; box-shadow: 0 8px 32px rgba(0,0,0,0.18); background: white;
    transition: all 0.3s ease; transform: scale(0.9); opacity: 0;
}
body.form-page #feedback.show { transform: scale(1); opacity: 1; }
body.form-page #feedback.success { background: #f0fff4; border: 1px solid #68d391; color: #2f855a; }
body.form-page #feedback.error { background: #fed7d7; border: 1px solid #fc8181; color: #c53030; }
body.form-page #feedback a { color: #667eea; text-decoration: none; font-weight: 500; word-break: break-all; display: inline-block; margin: 4px 0; }
body.form-page #feedback a:hover { text-decoration: underline; }
body.form-page #feedback button { background: #667eea; color: white; border: none; padding: 12px 16px; border-radius: 8px; font-size: 14px; margin: 4px 8px 4px 0; cursor: pointer; transition: all 0.2s ease; display: inline-block; }
body.form-page #feedback button:hover { background: #5a6fd8; transform: translateY(-1px); }
body.form-page #feedback button:active { transform: translateY(0); }

/* Toasts */
body.form-page .toast-container {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    z-index: 10001; pointer-events: none; width: 90%; max-width: 380px;
}
body.form-page .toast {
    background: white; border-radius: 12px; padding: 16px 20px; margin-bottom: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 12px;
    pointer-events: auto; transform: translateY(-100px); opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); animation: toastSlideIn 0.3s ease-out forwards; position: relative;
}
body.form-page .toast.show { transform: translateY(0); opacity: 1; }
body.form-page .toast.hide { animation: toastSlideOut 0.3s ease-in forwards; }

@keyframes toastSlideIn { from { transform: translateY(-100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes toastSlideOut { from { transform: translateY(0) scale(1); opacity: 1; } to { transform: translateY(-20px) scale(0.95); opacity: 0; } }

body.form-page .toast.success { background: linear-gradient(135deg, #f0fff4 0%, #e6fffa 100%); }
body.form-page .toast.error { background: linear-gradient(135deg, #fed7d7 0%, #fbb6ce 100%); }
body.form-page .toast.warning { background: linear-gradient(135deg, #fefcbf 0%, #faf089 100%); }
body.form-page .toast.info { background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%); }

body.form-page .toast-icon { font-size: 20px; flex-shrink: 0; }
body.form-page .toast.success .toast-icon { color: hsl(148, 48%, 43%); }
body.form-page .toast.error .toast-icon { color: hsl(0, 76%, 57%); }
body.form-page .toast.warning .toast-icon { color: hsl(24, 75%, 50%); }
body.form-page .toast.info .toast-icon { color: hsl(209, 62%, 50%); }

body.form-page .toast-content { flex: 1; font-size: 14px; line-height: 1.4; }
body.form-page .toast-title { font-weight: 600; margin-bottom: 2px; color: #2d3748; }
body.form-page .toast-message { color: #4a5568; font-size: 13px; }
body.form-page .toast-close { background: none; border: none; font-size: 18px; color: #a0aec0; cursor: pointer; padding: 4px; border-radius: 4px; transition: all 0.2s; flex-shrink: 0; }
body.form-page .toast-close:hover { background: rgba(0,0,0,0.1); color: #4a5568; }

body.form-page .toast-progress { position: absolute; bottom: 0; left: 2.5%; height: 4px; background: rgba(0,0,0,0.1); animation: toastProgress 10s linear forwards; width: 25%; }
body.form-page .toast.success .toast-progress { background: hsl(150, 75%, 75%); }
body.form-page .toast.error .toast-progress { background: hsl(0, 75%, 75%); }
body.form-page .toast.warning .toast-progress { background: hsl(27, 75%, 75%); }
body.form-page .toast.info .toast-progress { background: hsl(208, 75%, 75%); }
@keyframes toastProgress { from { width: 100%; } to { width: 0%; } }

/* Responsive */
@media (max-width: 480px) {
  body.form-page { padding: 1rem; }
  body.form-page .container { padding: 20px; }
  body.form-page h2 { font-size: 22px; }
  body.form-page input, body.form-page select { padding: 14px; font-size: 16px; }
  body.form-page button[type="submit"] { padding: 16px; font-size: 17px; }
  body.form-page #feedback { min-width: 0; width: 95vw; padding: 16px; }
}

@media (max-width: 402px) {
  body.form-page .container { max-width: 100%; margin: 0; border-radius: 2.5rem; }
  body.form-page #feedback a { font-size: 13px; }
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  body.form-page { background: linear-gradient(135deg, #d1d2d7 0%, #d2d5de 100%); }
  body.form-page .container { background: #fff; color: #2d3748; }
  body.form-page h2, body.form-page .small, body.form-page label { color: #2d3748; }
  body.form-page input, body.form-page select { background: #f2f2f2; border-color: #ffffff; color: #718096; }
  body.form-page input::placeholder, body.form-page select::placeholder { color: #a0aec0; }
  body.form-page select:focus, body.form-page input:focus { border-color: rgb(102, 126, 234); color: #636f85; box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2); }
  body.form-page .invalid-link { background: #742a2a; border-color: #fc8181; color: #fed7d7; }
  body.form-page .toast { background: #4a5568; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
  body.form-page .toast.success { background: hsl(145, 46%, 51%); }
  body.form-page .toast.error { background: hsl(0, 75%, 55%); }
  body.form-page .toast.warning { background: hsl(24, 75%, 55%); }
  body.form-page .toast.info { background: hsl(209, 75%, 55%); }
  body.form-page .toast-title, body.form-page .toast-message, body.form-page .toast-close { color: #ffffff; }
  body.form-page .toast-close:hover { background: rgba(255,255,255,0.1); color: #ffffff; }
}

/* =============================
     Utilities and tokens (migrated)
     ============================= */
/* Design tokens */
:root {
    --font-sans: "Ubuntu Sans", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Cantarell, 'Helvetica Neue', Arial, sans-serif;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-pill: 999px;
    --color-bg: #ffffff;
    --color-surface: #f7fafc;
    --color-text: #2d3748;
    --color-muted: #a0aec0;
    --color-border: #e2e8f0;
    --primary-500: #5200e7;
    --primary-400: #7a34ff;
    --accent-500: #ce00c2;
    --gradient-primary: linear-gradient(135deg, var(--accent-500) 0%, var(--primary-500) 100%);
        /* Motion tokens */
        --ease-spring: cubic-bezier(0.22, 1, 0.36, 1);
        --ease-standard: cubic-bezier(0.2, 0.8, 0.2, 1);
        --ease-decel: cubic-bezier(0.05, 0.7, 0.1, 1);
        --dur-fast: 180ms;
        --dur-med: 280ms;
        --dur-slow: 420ms;
}

/* Spacing utilities */
.mt-8 { margin-top: 8px; }
.mt-10 { margin-top: 10px; }
.mt-12 { margin-top: 12px; }
.mb-8 { margin-bottom: 8px; }
.m-2 { margin: .5rem; }
.mr-8 { margin-right: 8px; }
.ml-8 { margin-left: 8px; }
.list-offset { margin: 8px 0 0 16px; }

/* Display helpers */
.hidden { display: none; }
.bold { font-weight: 600; }
.text-xs { font-size: 12px; }
.text-muted { color: #666; }

/* Links and buttons */
.button, a.button { background:#fff; color: var(--primary-500); border:none; border-radius:8px; padding:8px 12px; font-weight:600; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap:6px; box-shadow:0 1px 2px rgba(0,0,0,0.08); }
.button:hover, a.button:hover { background:#f3f2ff; }
.link-primary { text-decoration: none; color: var(--primary-500); }
.link-primary:hover { text-decoration: underline; }
.btn-inline { background:#fff; color: var(--primary-500); border:1px solid #e1e5e9; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
.btn-success { color:#0f7b0f; border-color:#cfe8cf; }

/* Inline spinner (login) */
.btn-spinner { display: inline-block; width: 16px; height: 16px; border: 2px solid #ffffff55; border-top-color: #fff; border-radius: 50%; animation: btnspin 1s linear infinite; margin-left: 8px; vertical-align: middle; }
@keyframes btnspin { to { transform: rotate(360deg); } }

/* Report page styles (migrated from inline) */
body.report-page { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; background:#f6f7fb; color:#1f2937; }
.report-header { position: sticky; top:0; z-index:10; display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background:linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%); color:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
.report-header .title { font-weight:700; letter-spacing:0.2px; }
.report-header .actions { display:flex; gap:8px; }
.report-main { max-width: 980px; margin: 24px auto; padding: 0 16px 32px; }
.card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin-bottom:16px; box-shadow:0 1px 3px rgba(0,0,0,0.06); }
.muted { color:#6b7280; font-size:14px; }
.summary { font-size:15px; line-height:1.6; white-space:pre-wrap; }
.grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
@media (max-width: 720px) { .grid { grid-template-columns: 1fr; } }
.metric { border:1px solid #eef2f7; border-radius:10px; padding:12px; background:#fafbff; }
.metric .label { font-size:12px; color:#6b7280; text-transform:uppercase; letter-spacing:0.3px; }
.metric .value { font-size:20px; font-weight:700; margin-top:4px; }
body.report-page h2 { margin: 8px 0 6px; font-size:18px; }
body.report-page ul { margin:8px 0 0 18px; }
.empty { color:#6b7280; font-style:italic; }
.error { color:#b91c1c; background:#fef2f2; border:1px solid #fee2e2; padding:12px; border-radius:8px; }

/* =============================
     Admin: Chat Widget and UI
     ============================= */
.chat-widget { position: fixed; bottom: 20px; right: 20px; z-index: 1000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
.chat-toggle { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: transform var(--dur-med) var(--ease-spring), box-shadow var(--dur-med) var(--ease-spring); position: relative; }
.chat-toggle:hover { transform: scale(1.05); box-shadow: 0 6px 16px rgba(0,0,0,0.2); }
.notification-badge { position: absolute; top: -2px; right: -2px; background: #ff4757; color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 10px; display: none; align-items: center; justify-content: center; border: 2px solid white; animation: pulse 2s infinite; }
.notification-badge.show { display: flex; }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
.chat-container { position: absolute; bottom: 70px; right: 0; width: 35rem; height: 30rem; background: white; border-radius: 16px; box-shadow: 0 12px 48px rgba(0,0,0,0.15); display: none; flex-direction: column; overflow: hidden; border: 1px solid #e1e5e9; }
.chat-container.open { display: flex; animation: slideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1); }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px) scale(0.98); filter: blur(2px); } to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); } }
.chat-header { background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%); color: white; padding: 20px; display: flex; align-items: center; justify-content: space-between; }
.chat-title { font-weight: 600; font-size: 16px; }
.chat-status { font-size: 12px; opacity: 0.9; margin-top: 2px; }
.chat-close { background: none; border: none; color: white; font-size: 24px; cursor: pointer; padding: 4px; border-radius: 4px; transition: background-color var(--dur-fast) var(--ease-spring); }
.chat-close:hover { background: rgba(255,255,255,0.1); }
.chat-messages { flex: 1; overflow-y: auto; padding: 16px; background: #f8f9fa; max-height: 400px; }
.message { margin-bottom: 16px; display: flex; align-items: flex-start; gap: 12px; }
.message.user { flex-direction: row-reverse; }
.message-content { max-width: 80%; padding: 14px 18px; border-radius: 20px; font-size: 14px; line-height: 1.5; word-wrap: break-word; }
.message.bot .message-content { background: white; border: 1px solid #e1e5e9; border-bottom-left-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.message.user .message-content { background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%); color: white; border-bottom-right-radius: 8px; }
.message-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
.message.bot .message-avatar { background: #e8f4fd; color: #1976d2; }
.message.user .message-avatar { background: #f3e5f5; color: #7b1fa2; }
.agent-badge { background: #e8f5e8; color: #2e7d32; padding: 4px 10px; border-radius: 12px; font-size: 10px; font-weight: 600; text-transform: uppercase; margin-bottom: 8px; display: inline-block; }
.notification-agent .agent-badge { background: #fff3e0; color: #f57c00; }
.ticket-agent .agent-badge { background: #fce4ec; color: #c2185b; }
.chat-input-container { padding: 16px; border-top: 1px solid #e1e5e9; background: white; }
.chat-input-wrapper { display: flex; gap: 12px; align-items: flex-end; }
.chat-input { flex: 1; border: 1px solid #e1e5e9; border-radius: 20px; padding: 12px 16px; font-size: 14px; outline: none; resize: none; max-height: 80px; min-height: 40px; transition: border-color var(--dur-fast) var(--ease-spring), box-shadow var(--dur-fast) var(--ease-spring), transform var(--dur-fast) var(--ease-spring); }
.chat-input:focus { border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
.send-button { width: 40px; height: 40px; border: none; border-radius: 50%; background: linear-gradient(135deg, #ce00c2ff 0%, #5200e7ff 100%); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: transform var(--dur-fast) var(--ease-spring), box-shadow var(--dur-fast) var(--ease-spring); }
.send-button:hover:not(:disabled) { transform: scale(1.05); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); }
.send-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
@keyframes typingBounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-8px); } }
.quick-suggestions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
.quick-suggestion { background: #f0f0f0; border: 1px solid #ddd; border-radius: 16px; padding: 6px 12px; font-size: 12px; cursor: pointer; transition: background-color var(--dur-fast) var(--ease-spring), border-color var(--dur-fast) var(--ease-spring), color var(--dur-fast) var(--ease-spring), transform var(--dur-fast) var(--ease-spring); }
.quick-suggestion:hover { background: #e0e0e0; border-color: #667eea; color: #667eea; }
.response-metadata { font-size: 11px; color: #666; margin-top: 12px; padding-top: 8px; border-top: 1px solid #f0f0f0; }
.summary-box { background: #f8f9ff; border: 1px solid #e1e8ff; border-radius: 8px; padding: 12px; margin: 8px 0; }
.insights-list { margin: 8px 0; }
.insights-list li { margin: 4px 0; color: #444; }
.metric-highlight { background: #fff9e6; padding: 2px 6px; border-radius: 4px; font-weight: 600; color: #b8860b; }

/* Subtle page-level appearances */
@keyframes fadeInUp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
.quick-stats .quick-stats-item { animation: fadeInUp var(--dur-slow) var(--ease-decel) both; }
.quick-stats .quick-stats-item:nth-child(1) { animation-delay: 0ms; }
.quick-stats .quick-stats-item:nth-child(2) { animation-delay: 60ms; }
.quick-stats .quick-stats-item:nth-child(3) { animation-delay: 120ms; }
.quick-stats .quick-stats-item:nth-child(4) { animation-delay: 180ms; }
.contacts-table tbody tr { animation: none; transition: background-color var(--dur-fast) var(--ease-standard); }
.contacts-table.is-updating tbody tr { animation: none !important; }
.dynamic-cell { will-change: transform, opacity; }
@keyframes colSlideInLeft { from { opacity: 0; transform: translateX(-8px); } to { opacity: 1; transform: translateX(0); } }
@keyframes colSlideInRight { from { opacity: 0; transform: translateX(8px); } to { opacity: 1; transform: translateX(0); } }
.col-slide-in-left { animation: colSlideInLeft var(--dur-fast) var(--ease-standard) both; }
.col-slide-in-right { animation: colSlideInRight var(--dur-fast) var(--ease-standard) both; }
.action-button:active,
.nav-button:active,
.send-button:active { transform: scale(0.98); }

/* Responsive for chat widget + tables */
@media (max-width: 768px) {
    .chat-container { position: fixed; left: 16px; right: 16px; bottom: 80px; top: auto; width: auto; max-width: none; height: min(70vh, calc(100vh - 160px)); z-index: 2000; }
    .chat-toggle { width: 56px; height: 56px; font-size: 22px; }
    .contacts-table th, .contacts-table td { padding: 12px 16px; font-size: 13px; }
    .column-navigation { gap: 10px; }
    .column-indicator { font-size: 12px; min-width: 80px; }
    .table-header { padding: 16px; }
}
@media (max-width: 402px) {
    .table-header { padding: 14px 12px; flex-wrap: wrap; gap: 10px; }
    .table-title { font-size: 16px; width: 100%; text-align: center; margin-bottom: 8px; }
    .column-navigation { width: 100%; justify-content: center; gap: 8px; }
    .column-indicator { font-size: 11px; min-width: 70px; }
    .nav-button { width: 32px; height: 32px; font-size: 14px; }
    .status-badge { padding: 3px 8px; font-size: 10px; }
    .container { padding: 0 10px; }
}

.performance-indicator { position: absolute; top: 8px; right: 60px; background: rgba(255,255,255,0.9); border-radius: 12px; padding: 4px 8px; font-size: 10px; color: #666; }
/* Design system components (merged) */
.ds-input,
.ds-select,
.ds-textarea {
    font-family: var(--font-sans);
    width: 100%;
    height: 3rem;
    padding: 0.25rem 1rem;
    border-radius: var(--radius-md);
    border: 2px solid #fff;
    background: var(--color-surface);
    color: var(--color-text);
    font-size: 16px;
    line-height: 1.2;
    transition: all .2s ease;
    appearance: none;
}

.ds-inline-controls .ds-input,
.ds-inline-controls .ds-select { height: 3rem; padding: 0.25rem 1rem; border: 2px solid #ffffff; border-radius: 12px; background: #f7fafc; font-size: 16px; color: #2d3748; }
.ds-inline-controls .ds-input::placeholder,
.ds-inline-controls .ds-select::placeholder { color: #a0aec0; }
.ds-inline-controls .ds-input:focus,
.ds-inline-controls .ds-select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); background: #ffffff; transform: translateY(-2px); }

.ds-textarea { height: auto; min-height: 6rem; padding: .75rem 1rem; resize: vertical; }
.ds-input::placeholder,
.ds-select::placeholder,
.ds-textarea::placeholder { color: var(--color-muted); }
.ds-input:focus,
.ds-select:focus,
.ds-textarea:focus { outline: none; border-color: var(--primary-400); background: #fff; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15); transform: translateY(-2px); }

.ds-btn { font-family: var(--font-sans); height: 3rem; padding: .25rem 1.25rem; border-radius: var(--radius-pill); border: none; cursor: pointer; font-weight: 700; font-size: 1rem; color: #fff; background: var(--gradient-primary); box-shadow: 0 4px 24px -4px rgba(0,0,0,0.15); transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease; }
.ds-btn:hover { transform: translateY(-2px); }
.ds-btn:active { transform: translateY(0); }
.ds-btn:disabled { opacity: .6; cursor: not-allowed; }
.ds-btn--secondary { background: transparent; color: #313131; }
.ds-btn.ds-btn--secondary:hover { background: rgba(49,49,49,0.08); }
.ds-inline-controls { display: flex; gap: 8px; flex-wrap: wrap; overflow: hidden; max-height: 0; opacity: 0; transform: translateY(-6px); transition: max-height 320ms cubic-bezier(0.22, 1, 0.36, 1), opacity 220ms cubic-bezier(0.22, 1, 0.36, 1), transform 320ms cubic-bezier(0.22, 1, 0.36, 1); }
.ds-inline-controls.open { max-height: 240px; opacity: 1; transform: translateY(0); }

@media (min-width: 680px) {
  .quick-stats__cards {
    flex-wrap: nowrap;
    overflow-x: hidden;
    scroll-snap-type: none;
  }
  .quick-stats-item {
    flex: 1 1 0;
    min-width: 0;
    padding: .3rem; /* uniform padding */
  }
  .quick-stats__icon {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .75rem;
  }
}

/* Tablet compact fix: prevent wrapping in quick-stats__icon around ~768px widths */
@media (min-width: 768px) and (max-width: 899px) {
  .quick-stats-item {
    min-width: 0; /* allow flex shrink cleanly */
  }
  .quick-stats__icon {
    height: 4.25rem;
    padding: .4rem .5rem;
    gap: .5rem;
  }
  .quick-stats__icon > i {
    width: 2.25rem;
    height: 2.25rem;
    margin: 0 .5rem 0 0; /* reduce horizontal padding pressure */
  }
  .quick-stats__counter {
    font-size: 2rem; /* was 2.5rem — prevents overflow squeeze */
    line-height: 1;
  }
  .quick-stats__details {
    gap: .25rem;
  }
  .quick-stats__label {
    font-size: .7rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

/* Optional enhanced edge glow (uncomment if you want a thicker luminous edge)
.quick-stats::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background:
        radial-gradient(circle at 50% 55%,
            rgba(255,255,255,0) 0%,
            rgba(255,255,255,0) 45%,
            rgba(255,255,255,0.25) 70%,
            rgba(255,255,255,0.5) 100%);
    mask:
       linear-gradient(#000 0 0) content-box,
       linear-gradient(#000 0 0);
    -webkit-mask:
       linear-gradient(#000 0 0) content-box,
       linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    padding: 1px; /* matches border thickness */
}
*/